{"version":3,"file":"sim-baaba52f.chunk.js","sources":["../../../ui/hunter/inputs.ts","../../../ui/hunter/presets.ts","../../../ui/hunter/sim.ts"],"sourcesContent":["import { Spec } from '../core/proto/common.js';\nimport { ActionId } from '../core/proto_utils/action_id.js';\nimport { Player } from '../core/player.js';\nimport { EventID, TypedEvent } from '../core/typed_event.js';\nimport { makePetTypeInputConfig } from '../core/talents/hunter_pet.js';\n\nimport * as InputHelpers from '../core/components/input_helpers.js';\n\nimport {\n\tHunter,\n\tHunter_Rotation as HunterRotation,\n\tHunter_Rotation_RotationType as RotationType,\n\tHunter_Rotation_StingType as StingType,\n\tHunter_Rotation_SpellOption as SpellOption,\n\tHunter_Options as HunterOptions,\n\tHunter_Options_Ammo as Ammo,\n\tHunter_Options_PetType as PetType,\n} from '../core/proto/hunter.js';\n\n// Configuration for spec-specific UI elements on the settings tab.\n// These don't need to be in a separate file but it keeps things cleaner.\n\nexport const WeaponAmmo = InputHelpers.makeSpecOptionsEnumIconInput<Spec.SpecHunter, Ammo>({\n\tfieldName: 'ammo',\n\tnumColumns: 2,\n\tvalues: [\n\t\t{ value: Ammo.AmmoNone, tooltip: 'No Ammo' },\n\t\t{ actionId: ActionId.fromItemId(52021), value: Ammo.IcebladeArrow },\n\t\t{ actionId: ActionId.fromItemId(41165), value: Ammo.SaroniteRazorheads },\n\t\t{ actionId: ActionId.fromItemId(41586), value: Ammo.TerrorshaftArrow },\n\t\t{ actionId: ActionId.fromItemId(31737), value: Ammo.TimelessArrow },\n\t\t{ actionId: ActionId.fromItemId(34581), value: Ammo.MysteriousArrow },\n\t\t{ actionId: ActionId.fromItemId(33803), value: Ammo.AdamantiteStinger },\n\t\t{ actionId: ActionId.fromItemId(28056), value: Ammo.BlackflightArrow },\n\t],\n});\n\nexport const PetTypeInput = makePetTypeInputConfig(true);\n\nexport const PetUptime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecHunter>({\n\tfieldName: 'petUptime',\n\tlabel: 'Pet Uptime (%)',\n\tlabelTooltip: 'Percent of the fight duration for which your pet will be alive.',\n\tpercent: true,\n});\n\nexport const UseHuntersMark = InputHelpers.makeSpecOptionsBooleanIconInput<Spec.SpecHunter>({\n\tfieldName: 'useHuntersMark',\n\tid: ActionId.fromSpellId(53338),\n});\n\nexport const SniperTrainingUptime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecHunter>({\n\tfieldName: 'sniperTrainingUptime',\n\tlabel: 'ST Uptime (%)',\n\tlabelTooltip: 'Uptime for the Sniper Training talent, as a percent of the fight duration.',\n\tpercent: true,\n\tshowWhen: (player: Player<Spec.SpecHunter>) => player.getTalents().sniperTraining > 0,\n\tchangeEmitter: (player: Player<Spec.SpecHunter>) => TypedEvent.onAny([player.specOptionsChangeEmitter, player.talentsChangeEmitter]),\n});\n\nexport const HunterRotationConfig = {\n\tinputs: [\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecHunter, RotationType>({\n\t\t\tfieldName: 'type',\n\t\t\tlabel: 'Type',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Single Target', value: RotationType.SingleTarget },\n\t\t\t\t{ name: 'AOE', value: RotationType.Aoe },\n\t\t\t\t{ name: 'Custom', value: RotationType.Custom },\n\t\t\t],\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecHunter, StingType>({\n\t\t\tfieldName: 'sting',\n\t\t\tlabel: 'Sting',\n\t\t\tlabelTooltip: 'Maintains the selected Sting on the primary target.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'None', value: StingType.NoSting },\n\t\t\t\t{ name: 'Scorpid Sting', value: StingType.ScorpidSting },\n\t\t\t\t{ name: 'Serpent Sting', value: StingType.SerpentSting },\n\t\t\t],\n\t\t\tshowWhen: (player: Player<Spec.SpecHunter>) => player.getRotation().type == RotationType.SingleTarget,\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'trapWeave',\n\t\t\tlabel: 'Trap Weave',\n\t\t\tlabelTooltip: 'Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD.',\n\t\t\tshowWhen: (player: Player<Spec.SpecHunter>) => player.getRotation().type != RotationType.Custom,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecHunter>({\n\t\t\textraCssClasses: ['used-in-apl'],\n\t\t\tfieldName: 'timeToTrapWeaveMs',\n\t\t\tlabel: 'Weave Time',\n\t\t\tlabelTooltip: 'Amount of time for Explosive Trap, in milliseconds, between when you start moving towards the boss and when you re-engage your ranged autos.',\n\t\t\tenableWhen: (player: Player<Spec.SpecHunter>) => player.aplRotation.enabled || (player.getRotation().type != RotationType.Custom && player.getRotation().trapWeave) || (player.getRotation().type == RotationType.Custom && player.getRotation().customRotation?.spells.some(spell => spell.spell == SpellOption.ExplosiveTrap) || false),\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'steadyShotMaxDelay',\n\t\t\tlabel: 'Steady Shot Max Delay (ms)',\n\t\t\tlabelTooltip: 'If another higher-priority spell comes off cooldown in the specified time then steady shot is not cast and the rotation waits',\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'allowExplosiveShotDownrank',\n\t\t\tlabel: 'Allow ES Downrank',\n\t\t\tlabelTooltip: 'Weaves Explosive Shot Rank 3 during LNL procs. This works because the rank 3 and rank 4 dots can stack.',\n\t\t\tshowWhen: (player: Player<Spec.SpecHunter>) => player.getRotation().type != RotationType.Custom && player.getTalents().explosiveShot && player.getTalents().lockAndLoad > 0,\n\t\t\tchangeEmitter: (player: Player<Spec.SpecHunter>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'multiDotSerpentSting',\n\t\t\tlabel: 'Multi-Dot Serpent Sting',\n\t\t\tlabelTooltip: 'Casts Serpent Sting on multiple targets',\n\t\t\tchangeEmitter: (player: Player<Spec.SpecHunter>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeCustomRotationInput<Spec.SpecHunter, SpellOption>({\n\t\t\tfieldName: 'customRotation',\n\t\t\tnumColumns: 2,\n\t\t\tvalues: [\n\t\t\t\t{ actionId: ActionId.fromSpellId(49052), value: SpellOption.SteadyShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(49045), value: SpellOption.ArcaneShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(49050), value: SpellOption.AimedShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(49048), value: SpellOption.MultiShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(49001), value: SpellOption.SerpentStingSpell },\n\t\t\t\t{ actionId: ActionId.fromSpellId(3043), value: SpellOption.ScorpidStingSpell },\n\t\t\t\t{ actionId: ActionId.fromSpellId(61006), value: SpellOption.KillShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(63672), value: SpellOption.BlackArrow },\n\t\t\t\t{ actionId: ActionId.fromSpellId(53209), value: SpellOption.ChimeraShot },\n\t\t\t\t{ actionId: ActionId.fromSpellId(60053), value: SpellOption.ExplosiveShot, text: 'R4' },\n\t\t\t\t{ actionId: ActionId.fromSpellId(60052), value: SpellOption.ExplosiveShotDownrank, text: 'R3' },\n\t\t\t\t{ actionId: ActionId.fromSpellId(49067), value: SpellOption.ExplosiveTrap },\n\t\t\t\t{ actionId: ActionId.fromSpellId(58434), value: SpellOption.Volley },\n\t\t\t],\n\t\t\tshowWhen: (player: Player<Spec.SpecHunter>) => player.getRotation().type == RotationType.Custom,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'viperStartManaPercent',\n\t\t\tlabel: 'Viper Start Mana %',\n\t\t\tlabelTooltip: 'Switch to Aspect of the Viper when mana goes below this amount.',\n\t\t\tpercent: true,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecHunter>({\n\t\t\tfieldName: 'viperStopManaPercent',\n\t\t\tlabel: 'Viper Stop Mana %',\n\t\t\tlabelTooltip: 'Switch back to Aspect of the Hawk when mana goes above this amount.',\n\t\t\tpercent: true,\n\t\t}),\n\t],\n};\n","import { CustomRotation, CustomSpell } from '../core/proto/common.js';\nimport { Consumes } from '../core/proto/common.js';\nimport { EquipmentSpec } from '../core/proto/common.js';\nimport { Flask } from '../core/proto/common.js';\nimport { Food } from '../core/proto/common.js';\nimport { Glyphs } from '../core/proto/common.js';\nimport { PetFood } from '../core/proto/common.js';\nimport { Potions } from '../core/proto/common.js';\nimport { SavedRotation, SavedTalents } from '../core/proto/ui.js';\nimport { APLRotation } from '../core/proto/apl.js';\nimport { ferocityDefault, ferocityBMDefault } from '../core/talents/hunter_pet.js';\nimport { Player } from '../core/player.js';\n\nimport {\n\tHunter_Rotation as HunterRotation,\n\tHunter_Rotation_RotationType as RotationType,\n\tHunter_Rotation_StingType as StingType,\n\tHunter_Rotation_SpellOption as SpellOption,\n\tHunter_Options as HunterOptions,\n\tHunter_Options_Ammo as Ammo,\n\tHunter_Options_PetType as PetType,\n\tHunterMajorGlyph as MajorGlyph,\n\tHunterMinorGlyph as MinorGlyph,\n} from '../core/proto/hunter.js';\n\nimport * as Tooltips from '../core/constants/tooltips.js';\n\n// Preset options for this spec.\n// Eventually we will import these values for the raid sim too, so its good to\n// keep them in a separate file.\n\n// Default talents. Uses the wowhead calculator format, make the talents on\n// https://wowhead.com/wotlk/talent-calc and copy the numbers in the url.\nexport const BeastMasteryTalents = {\n\tname: 'Beast Mastery',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '51200201505112243120531251-025305101',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MajorGlyph.GlyphOfBestialWrath,\n\t\t\tmajor2: MajorGlyph.GlyphOfSteadyShot,\n\t\t\tmajor3: MajorGlyph.GlyphOfSerpentSting,\n\t\t\tminor1: MinorGlyph.GlyphOfFeignDeath,\n\t\t\tminor2: MinorGlyph.GlyphOfRevivePet,\n\t\t\tminor3: MinorGlyph.GlyphOfMendPet,\n\t\t}),\n\t}),\n};\n\nexport const MarksmanTalents = {\n\tname: 'Marksman',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '502-035335131030013233035031051-5000002',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MajorGlyph.GlyphOfSerpentSting,\n\t\t\tmajor2: MajorGlyph.GlyphOfSteadyShot,\n\t\t\tmajor3: MajorGlyph.GlyphOfChimeraShot,\n\t\t\tminor1: MinorGlyph.GlyphOfFeignDeath,\n\t\t\tminor2: MinorGlyph.GlyphOfRevivePet,\n\t\t\tminor3: MinorGlyph.GlyphOfMendPet,\n\t\t}),\n\t}),\n};\n\nexport const SurvivalTalents = {\n\tname: 'Survival',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '-015305101-5000032500033330532135301311',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MajorGlyph.GlyphOfSerpentSting,\n\t\t\tmajor2: MajorGlyph.GlyphOfExplosiveShot,\n\t\t\tmajor3: MajorGlyph.GlyphOfKillShot,\n\t\t\tminor1: MinorGlyph.GlyphOfFeignDeath,\n\t\t\tminor2: MinorGlyph.GlyphOfRevivePet,\n\t\t\tminor3: MinorGlyph.GlyphOfMendPet,\n\t\t}),\n\t}),\n};\n\nexport const DefaultRotation = HunterRotation.create({\n\ttype: RotationType.SingleTarget,\n\tsting: StingType.SerpentSting,\n\ttrapWeave: false,\n\ttimeToTrapWeaveMs: 2000,\n\tviperStartManaPercent: 0.1,\n\tviperStopManaPercent: 0.3,\n\tmultiDotSerpentSting: true,\n\tallowExplosiveShotDownrank: true,\n\tsteadyShotMaxDelay: 300,\n\tcustomRotation: CustomRotation.create({\n\t\tspells: [\n\t\t\tCustomSpell.create({ spell: SpellOption.SerpentStingSpell }),\n\t\t\tCustomSpell.create({ spell: SpellOption.KillShot }),\n\t\t\tCustomSpell.create({ spell: SpellOption.ChimeraShot }),\n\t\t\tCustomSpell.create({ spell: SpellOption.BlackArrow }),\n\t\t\tCustomSpell.create({ spell: SpellOption.ExplosiveShot }),\n\t\t\tCustomSpell.create({ spell: SpellOption.AimedShot }),\n\t\t\tCustomSpell.create({ spell: SpellOption.ArcaneShot }),\n\t\t\tCustomSpell.create({ spell: SpellOption.SteadyShot }),\n\t\t],\n\t}),\n});\n\nexport const ROTATION_PRESET_LEGACY_DEFAULT = {\n\tname: 'Legacy Default',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: HunterRotation.toJsonString(DefaultRotation),\n\t}),\n}\nexport const ROTATION_PRESET_BM = {\n\tname: 'BM',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: HunterRotation.toJsonString(HunterRotation.create({\n\t\t\ttimeToTrapWeaveMs: 2000,\n\t\t})),\n\t\trotation: APLRotation.fromJsonString(`{\n      \t\t\"enabled\": true,\n      \t\t\"prepullActions\": [\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n      \t\t],\n      \t\t\"priorityList\": [\n      \t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentTime\":{}},\"rhs\":{\"const\":{\"val\":\"10s\"}}}},\"autocastOtherCooldowns\":{}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":34074}}}}},{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"10%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":34074}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":61847}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"30%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":61847}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":61006}}}},\n      \t\t  {\"hide\":true,\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49067}}}}},\"castSpell\":{\"spellId\":{\"tag\":1,\"spellId\":49067}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49001}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"6s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":49001}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49050}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49048}}}},\n      \t\t  {\"hide\":true,\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49045}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49052}}}}\n      \t\t]\n\t\t}`),\n\t}),\n};\n\nexport const ROTATION_PRESET_MM = {\n\tname: 'MM',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: HunterRotation.toJsonString(HunterRotation.create({\n\t\t\ttimeToTrapWeaveMs: 2000,\n\t\t})),\n\t\trotation: APLRotation.fromJsonString(`{\n      \t\t\"enabled\": true,\n      \t\t\"prepullActions\": [\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n      \t\t],\n      \t\t\"priorityList\": [\n      \t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentTime\":{}},\"rhs\":{\"const\":{\"val\":\"10s\"}}}},\"autocastOtherCooldowns\":{}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":34074}}}}},{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"10%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":34074}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":61847}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"30%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":61847}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":61006}}}},\n      \t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49001}}}}},\"castSpell\":{\"spellId\":{\"spellId\":49001}}}},\n      \t\t  {\"hide\":true,\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49067}}}}},\"castSpell\":{\"spellId\":{\"tag\":1,\"spellId\":49067}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":53209}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49050}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49048}}}},\n      \t\t  {\"hide\":true,\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49045}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49052}}}}\n      \t\t]\n\t\t}`),\n\t}),\n};\n\nexport const ROTATION_PRESET_SV = {\n\tname: 'SV',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: HunterRotation.toJsonString(HunterRotation.create({\n\t\t\ttimeToTrapWeaveMs: 2000,\n\t\t})),\n\t\trotation: APLRotation.fromJsonString(`{\n      \t\t\"enabled\": true,\n      \t\t\"prepullActions\": [\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n      \t\t],\n      \t\t\"priorityList\": [\n      \t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentTime\":{}},\"rhs\":{\"const\":{\"val\":\"10s\"}}}},\"autocastOtherCooldowns\":{}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":34074}}}}},{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"10%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":34074}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":61847}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"30%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":61847}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":61006}}}},\n      \t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":60053}}}}},\"castSpell\":{\"spellId\":{\"spellId\":60053}}}},\n      \t\t  {\"action\":{\"condition\":{\"dotIsActive\":{\"spellId\":{\"spellId\":60053}}},\"castSpell\":{\"spellId\":{\"spellId\":60052}}}},\n      \t\t  {\"hide\":true,\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49067}}}}},\"castSpell\":{\"spellId\":{\"tag\":1,\"spellId\":49067}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49001}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"6s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":49001}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":63672}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49050}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49048}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":49052}}}}\n      \t\t]\n\t\t}`),\n\t}),\n};\n\nexport const ROTATION_PRESET_AOE = {\n\tname: 'AOE',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: HunterRotation.toJsonString(HunterRotation.create({\n\t\t\ttimeToTrapWeaveMs: 2000,\n\t\t})),\n\t\trotation: APLRotation.fromJsonString(`{\n      \t\t\"enabled\": true,\n      \t\t\"prepullActions\": [\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n      \t\t],\n      \t\t\"priorityList\": [\n      \t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentTime\":{}},\"rhs\":{\"const\":{\"val\":\"10s\"}}}},\"autocastOtherCooldowns\":{}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":34074}}}}},{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"10%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":34074}}}},\n      \t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":61847}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"30%\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":61847}}}},\n      \t\t  {\"hide\":true,\"action\":{\"multidot\":{\"spellId\":{\"spellId\":49001},\"maxDots\":3,\"maxOverlap\":{\"const\":{\"val\":\"0ms\"}}}}},\n      \t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":49067}}}}},\"castSpell\":{\"spellId\":{\"tag\":1,\"spellId\":49067}}}},\n      \t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":58434}}}}\n      \t\t]\n\t\t}`),\n\t}),\n};\n\nexport const DefaultOptions = HunterOptions.create({\n\tammo: Ammo.SaroniteRazorheads,\n\tuseHuntersMark: true,\n\tpetType: PetType.Wolf,\n\tpetTalents: ferocityDefault,\n\tpetUptime: 1,\n\tsniperTrainingUptime: 0.9,\n});\n\nexport const BMDefaultOptions = HunterOptions.create({\n\tammo: Ammo.SaroniteRazorheads,\n\tuseHuntersMark: true,\n\tpetType: PetType.Wolf,\n\tpetTalents: ferocityBMDefault,\n\tpetUptime: 1,\n\tsniperTrainingUptime: 0.9,\n});\n\nexport const DefaultConsumes = Consumes.create({\n\tdefaultPotion: Potions.PotionOfSpeed,\n\tflask: Flask.FlaskOfEndlessRage,\n\tfood: Food.FoodFishFeast,\n\tpetFood: PetFood.PetFoodSpicedMammothTreats,\n});\n\nexport const MM_PRERAID_PRESET = {\n\tname: 'MM Preraid Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() != 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":42551,\"enchant\":3817,\"gems\":[41398,42143]},\n\t\t{\"id\":40678},\n\t\t{\"id\":37373,\"enchant\":3808},\n\t\t{\"id\":43566,\"enchant\":3605},\n\t\t{\"id\":39579,\"enchant\":3832,\"gems\":[39997,49110]},\n\t\t{\"id\":37170,\"enchant\":3845,\"gems\":[0]},\n\t\t{\"id\":39582,\"enchant\":3604,\"gems\":[40014,0]},\n\t\t{\"id\":37407,\"enchant\":3601,\"gems\":[42143]},\n\t\t{\"id\":37669,\"enchant\":3823},\n\t\t{\"id\":37167,\"enchant\":3606,\"gems\":[42143,39997]},\n\t\t{\"id\":37685},\n\t\t{\"id\":42642,\"gems\":[40044]},\n\t\t{\"id\":40684},\n\t\t{\"id\":44253},\n\t\t{\"id\":44249,\"enchant\":3827},\n\t\t{},\n\t\t{\"id\":37191,\"enchant\":3608}\n\t]}`),\n};\n\nexport const MM_P1_PRESET = {\n\tname: 'MM P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() != 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":40543,\"enchant\":3817,\"gems\":[41398,42143]},\n\t\t{\"id\":44664,\"gems\":[42143]},\n\t\t{\"id\":40507,\"enchant\":3808,\"gems\":[39997]},\n\t\t{\"id\":40403,\"enchant\":3605},\n\t\t{\"id\":43998,\"enchant\":3832,\"gems\":[42143,39997]},\n\t\t{\"id\":40282,\"enchant\":3845,\"gems\":[39997,0]},\n\t\t{\"id\":40541,\"enchant\":3604,\"gems\":[0]},\n\t\t{\"id\":40275,\"enchant\":3601,\"gems\":[39997]},\n\t\t{\"id\":40506,\"enchant\":3823,\"gems\":[39997,49110]},\n\t\t{\"id\":40549,\"enchant\":3606},\n\t\t{\"id\":40074},\n\t\t{\"id\":40474},\n\t\t{\"id\":40684},\n\t\t{\"id\":44253},\n\t\t{\"id\":40388,\"enchant\":3827},\n\t\t{},\n\t\t{\"id\":40385,\"enchant\":3608}\n\t]}`),\n};\n\nexport const MM_P2_PRESET = {\n\tname: 'MM P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() != 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":45610,\"enchant\":3817,\"gems\":[41398,42702]},\n\t\t{\"id\":45517,\"gems\":[42143]},\n\t\t{\"id\":45300,\"enchant\":3808,\"gems\":[40043]},\n\t\t{\"id\":46032,\"enchant\":3605,\"gems\":[42143,40043]},\n\t\t{\"id\":45473,\"enchant\":3832,\"gems\":[39997,39997,39997]},\n\t\t{\"id\":45869,\"enchant\":3845,\"gems\":[40044,0]},\n\t\t{\"id\":45444,\"enchant\":3604,\"gems\":[42143,39997,0]},\n\t\t{\"id\":45467,\"enchant\":3601,\"gems\":[39997]},\n\t\t{\"id\":45536,\"enchant\":3823,\"gems\":[39997,39997,39997]},\n\t\t{\"id\":45244,\"enchant\":3606,\"gems\":[39997,39997]},\n\t\t{\"id\":45608,\"gems\":[39997]},\n\t\t{\"id\":46322,\"gems\":[39997]},\n\t\t{\"id\":45931},\n\t\t{\"id\":46038},\n\t\t{\"id\":45613,\"enchant\":3827,\"gems\":[45879,39997]},\n\t\t{},\n\t\t{\"id\":45570,\"enchant\":3608}\n\t]}`),\n};\n\nexport const MM_P3_PRESET = {\n\tname: 'MM P3 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() != 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":48262,\"enchant\":3817,\"gems\":[41398,40147]},\n        {\"id\":47060,\"gems\":[42143]},\n        {\"id\":48260,\"enchant\":3808,\"gems\":[40112]},\n        {\"id\":47545,\"enchant\":3605,\"gems\":[40112]},\n        {\"id\":46965,\"enchant\":3832,\"gems\":[40112,40112,40112]},\n        {\"id\":47074,\"enchant\":3845,\"gems\":[40147,0]},\n        {\"id\":48263,\"enchant\":3604,\"gems\":[40148,0]},\n        {\"id\":47153,\"gems\":[40148,42143,42143]},\n        {\"id\":48261,\"enchant\":3823,\"gems\":[49110,40112]},\n        {\"id\":47109,\"enchant\":3606,\"gems\":[40147,40147]},\n        {\"id\":47075,\"gems\":[40112]},\n        {\"id\":45608,\"gems\":[40112]},\n        {\"id\":47131},\n        {\"id\":45931},\n        {\"id\":47239,\"enchant\":3827,\"gems\":[40147,40112]},\n        {},\n        {\"id\":47521,\"enchant\":3608,\"gems\":[40147]}\n\t]}`),\n};\n\nexport const MM_P4_PRESET = {\n\tname: 'MM P4 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() != 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":51286,\"enchant\":3817,\"gems\":[41398,40117]},\n        {\"id\":50633,\"gems\":[40117]},\n        {\"id\":51288,\"enchant\":3808,\"gems\":[40117]},\n        {\"id\":47546,\"enchant\":3605,\"gems\":[42153]},\n        {\"id\":51289,\"enchant\":3832,\"gems\":[40117,40117]},\n        {\"id\":50655,\"enchant\":3845,\"gems\":[40117,0]},\n        {\"id\":51285,\"enchant\":3604,\"gems\":[40117,0]},\n        {\"id\":50688,\"enchant\":3601,\"gems\":[40148,42153,42153]},\n        {\"id\":50645,\"enchant\":3823,\"gems\":[49110,40117,40147]},\n        {\"id\":50607,\"enchant\":3606,\"gems\":[40148,40148]},\n        {\"id\":50618,\"gems\":[40117]},\n        {\"id\":50402,\"gems\":[40148]},\n        {\"id\":50363},\n        {\"id\":47131},\n        {\"id\":50735,\"enchant\":3827,\"gems\":[40117,40117,40117]},\n        {},\n        {\"id\":50733,\"enchant\":3608,\"gems\":[40117]}\n\t]}`),\n};\n\nexport const SV_PRERAID_PRESET = {\n\tname: 'SV Preraid Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":42551,\"enchant\":3817,\"gems\":[41398,42143]},\n\t\t{\"id\":40678},\n\t\t{\"id\":37373,\"enchant\":3808},\n\t\t{\"id\":43406,\"enchant\":3605},\n\t\t{\"id\":39579,\"enchant\":3832,\"gems\":[39997,49110]},\n\t\t{\"id\":37170,\"enchant\":3845,\"gems\":[0]},\n\t\t{\"id\":39582,\"enchant\":3604,\"gems\":[39997,0]},\n\t\t{\"id\":37407,\"enchant\":3601,\"gems\":[42143]},\n\t\t{\"id\":37669,\"enchant\":3823},\n\t\t{\"id\":37167,\"enchant\":3606,\"gems\":[42143,39997]},\n\t\t{\"id\":37685},\n\t\t{\"id\":42642,\"gems\":[39997]},\n\t\t{\"id\":40684},\n\t\t{\"id\":44253},\n\t\t{\"id\":44249,\"enchant\":3827},\n\t\t{},\n\t\t{\"id\":37191,\"enchant\":3608}\n\t]}`),\n};\n\nexport const SV_P1_PRESET = {\n\tname: 'SV P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":40505,\"enchant\":3817,\"gems\":[41398,42143]},\n\t\t{\"id\":44664,\"gems\":[42143]},\n\t\t{\"id\":40507,\"enchant\":3808,\"gems\":[39997]},\n\t\t{\"id\":40403,\"enchant\":3605},\n\t\t{\"id\":43998,\"enchant\":3832,\"gems\":[42143,39997]},\n\t\t{\"id\":40282,\"enchant\":3845,\"gems\":[39997,0]},\n\t\t{\"id\":40541,\"enchant\":3604,\"gems\":[0]},\n\t\t{\"id\":39762,\"enchant\":3601,\"gems\":[39997]},\n\t\t{\"id\":40331,\"enchant\":3823,\"gems\":[39997,49110]},\n\t\t{\"id\":40549,\"enchant\":3606},\n\t\t{\"id\":40074},\n\t\t{\"id\":40474},\n\t\t{\"id\":40684},\n\t\t{\"id\":44253},\n\t\t{\"id\":40388,\"enchant\":3827},\n\t\t{},\n\t\t{\"id\":40385,\"enchant\":3608}\n\t]}`),\n};\n\nexport const SV_P2_PRESET = {\n\tname: 'SV P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":45610,\"enchant\":3817,\"gems\":[41398,40023]},\n\t\t{\"id\":45517,\"gems\":[39997]},\n\t\t{\"id\":45300,\"enchant\":3808,\"gems\":[39997]},\n\t\t{\"id\":46032,\"enchant\":3605,\"gems\":[39997,40044]},\n\t\t{\"id\":45473,\"enchant\":3832,\"gems\":[39997,39997,45879]},\n\t\t{\"id\":45869,\"enchant\":3845,\"gems\":[40043,0]},\n\t\t{\"id\":45444,\"enchant\":3604,\"gems\":[39997,40023,0]},\n\t\t{\"id\":46095,\"gems\":[42143,42143,42143]},\n\t\t{\"id\":45536,\"enchant\":3823,\"gems\":[39997,39997,39997]},\n\t\t{\"id\":45244,\"enchant\":3606,\"gems\":[39997,40023]},\n\t\t{\"id\":45608,\"gems\":[39997]},\n\t\t{\"id\":46322,\"gems\":[39997]},\n\t\t{\"id\":44253},\n\t\t{\"id\":45931},\n\t\t{\"id\":45613,\"enchant\":3827,\"gems\":[39997,39997]},\n\t\t{},\n\t\t{\"id\":45570,\"enchant\":3608}\n\t]}`),\n};\n\nexport const SV_P3_PRESET = {\n\tname: 'SV P3 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":48262,\"enchant\":3817,\"gems\":[41398,40147]},\n        {\"id\":47060,\"gems\":[42143]},\n        {\"id\":48260,\"enchant\":3808,\"gems\":[40112]},\n        {\"id\":47545,\"enchant\":3605,\"gems\":[40112]},\n        {\"id\":48264,\"enchant\":3832,\"gems\":[40112,40147]},\n        {\"id\":47074,\"enchant\":3845,\"gems\":[40148,0]},\n        {\"id\":48263,\"enchant\":3604,\"gems\":[40148,0]},\n        {\"id\":47153,\"gems\":[40147,42143,42143]},\n        {\"id\":47191,\"enchant\":3823,\"gems\":[49110,40147,40112]},\n        {\"id\":47109,\"enchant\":3606,\"gems\":[40112,40112]},\n        {\"id\":47075,\"gems\":[40112]},\n        {\"id\":45608,\"gems\":[40112]},\n        {\"id\":47131},\n        {\"id\":44253},\n        {\"id\":47239,\"enchant\":3827,\"gems\":[40147,40112]},\n        {},\n        {\"id\":47521,\"enchant\":3608,\"gems\":[40112]}\n\t]}`),\n};\n\nexport const SV_P4_PRESET = {\n\tname: 'SV P4 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<any>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":51286,\"enchant\":3817,\"gems\":[41398,40112]},\n        {\"id\":50633,\"gems\":[40112]},\n        {\"id\":51288,\"enchant\":3808,\"gems\":[40112]},\n        {\"id\":47546,\"enchant\":3605,\"gems\":[42143]},\n        {\"id\":51289,\"enchant\":3832,\"gems\":[40112,40112]},\n        {\"id\":50655,\"enchant\":3845,\"gems\":[40112,0]},\n        {\"id\":51285,\"enchant\":3604,\"gems\":[40112,0]},\n        {\"id\":50688,\"enchant\":3601,\"gems\":[40148,42143,42143]},\n        {\"id\":50645,\"enchant\":3823,\"gems\":[49110,40112,40150]},\n        {\"id\":50607,\"enchant\":3606,\"gems\":[40148,40148]},\n        {\"id\":50618,\"gems\":[45879]},\n        {\"id\":50402,\"gems\":[40148]},\n        {\"id\":50363},\n        {\"id\":47131},\n        {\"id\":50735,\"enchant\":3827,\"gems\":[40112,40112,40112]},\n        {},\n        {\"id\":50733,\"enchant\":3608,\"gems\":[40112]}\n\t]}`),\n};\n","import { RaidBuffs } from '../core/proto/common.js';\nimport { PartyBuffs } from '../core/proto/common.js';\nimport { IndividualBuffs } from '../core/proto/common.js';\nimport { Debuffs } from '../core/proto/common.js';\nimport { Class } from '../core/proto/common.js';\nimport { Consumes } from '../core/proto/common.js';\nimport { Encounter } from '../core/proto/common.js';\nimport { ItemSlot } from '../core/proto/common.js';\nimport { MobType } from '../core/proto/common.js';\nimport { Race } from '../core/proto/common.js';\nimport { RangedWeaponType } from '../core/proto/common.js';\nimport { Spec } from '../core/proto/common.js';\nimport { Stat, PseudoStat } from '../core/proto/common.js';\nimport { TristateEffect } from '../core/proto/common.js'\nimport { Player } from '../core/player.js';\nimport { Stats } from '../core/proto_utils/stats.js';\nimport { getTalentPoints } from '../core/proto_utils/utils.js';\nimport { Sim } from '../core/sim.js';\nimport { IndividualSimUI } from '../core/individual_sim_ui.js';\nimport { EventID, TypedEvent } from '../core/typed_event.js';\nimport { getPetTalentsConfig } from '../core/talents/hunter_pet.js';\nimport { protoToTalentString } from '../core/talents/factory.js';\n\nimport {\n\tHunter,\n\tHunter_Rotation as HunterRotation,\n\tHunter_Options as HunterOptions,\n\tHunter_Options_PetType as PetType,\n\tHunterPetTalents,\n} from '../core/proto/hunter.js';\n\nimport * as IconInputs from '../core/components/icon_inputs.js';\nimport * as OtherInputs from '../core/components/other_inputs.js';\nimport * as Mechanics from '../core/constants/mechanics.js';\nimport * as Tooltips from '../core/constants/tooltips.js';\n\nimport * as HunterInputs from './inputs.js';\nimport * as Presets from './presets.js';\n\nexport class HunterSimUI extends IndividualSimUI<Spec.SpecHunter> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecHunter>) {\n\t\tsuper(parentElem, player, {\n\t\t\tcssClass: 'hunter-sim-ui',\n\t\t\tcssScheme: 'hunter',\n\t\t\t// List any known bugs / issues here and they'll be shown on the site.\n\t\t\tknownIssues: [\n\t\t\t],\n\t\t\twarnings: [\n\t\t\t\t// Warning when using exotic pet without BM talented.\n\t\t\t\t(simUI: IndividualSimUI<Spec.SpecHunter>) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tupdateOn: TypedEvent.onAny([simUI.player.talentsChangeEmitter, simUI.player.specOptionsChangeEmitter]),\n\t\t\t\t\t\tgetContent: () => {\n\t\t\t\t\t\t\tconst petIsExotic = [\n\t\t\t\t\t\t\t\tPetType.Chimaera,\n\t\t\t\t\t\t\t\tPetType.CoreHound,\n\t\t\t\t\t\t\t\tPetType.Devilsaur,\n\t\t\t\t\t\t\t\tPetType.Silithid,\n\t\t\t\t\t\t\t\tPetType.SpiritBeast,\n\t\t\t\t\t\t\t\tPetType.Worm,\n\t\t\t\t\t\t\t].includes(simUI.player.getSpecOptions().petType);\n\n\t\t\t\t\t\t\tconst isBM = simUI.player.getTalents().beastMastery;\n\n\t\t\t\t\t\t\tif (petIsExotic && !isBM) {\n\t\t\t\t\t\t\t\treturn 'Cannot use exotic pets without the Beast Mastery talent.';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t// Warning when too many Pet talent points are used without BM talented.\n\t\t\t\t(simUI: IndividualSimUI<Spec.SpecHunter>) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tupdateOn: TypedEvent.onAny([simUI.player.talentsChangeEmitter, simUI.player.specOptionsChangeEmitter]),\n\t\t\t\t\t\tgetContent: () => {\n\t\t\t\t\t\t\tconst specOptions = simUI.player.getSpecOptions();\n\t\t\t\t\t\t\tconst petTalents = specOptions.petTalents || HunterPetTalents.create();\n\t\t\t\t\t\t\tconst petTalentString = protoToTalentString(petTalents, getPetTalentsConfig(specOptions.petType));\n\t\t\t\t\t\t\tconst talentPoints = getTalentPoints(petTalentString);\n\n\t\t\t\t\t\t\tconst isBM = simUI.player.getTalents().beastMastery;\n\t\t\t\t\t\t\tconst maxPoints = isBM ? 20 : 16;\n\n\t\t\t\t\t\t\tif (talentPoints == 0) {\n\t\t\t\t\t\t\t\t// Just return here, so we don't show a warning during page load.\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t} else if (talentPoints < maxPoints) {\n\t\t\t\t\t\t\t\treturn 'Unspent pet talent points.';\n\t\t\t\t\t\t\t} else if (talentPoints > maxPoints) {\n\t\t\t\t\t\t\t\treturn 'More than 16 points spent in pet talents, but Beast Mastery is not talented.';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t],\n\n\t\t\t// All stats for which EP should be calculated.\n\t\t\tepStats: [\n\t\t\t\tStat.StatStamina,\n\t\t\t\tStat.StatIntellect,\n\t\t\t\tStat.StatAgility,\n\t\t\t\tStat.StatRangedAttackPower,\n\t\t\t\tStat.StatMeleeHit,\n\t\t\t\tStat.StatMeleeCrit,\n\t\t\t\tStat.StatMeleeHaste,\n\t\t\t\tStat.StatArmorPenetration,\n\t\t\t\tStat.StatMP5,\n\t\t\t],\n\t\t\tepPseudoStats: [\n\t\t\t\tPseudoStat.PseudoStatRangedDps,\n\t\t\t],\n\t\t\t// Reference stat against which to calculate EP.\n\t\t\tepReferenceStat: Stat.StatRangedAttackPower,\n\t\t\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\t\t\tdisplayStats: [\n\t\t\t\tStat.StatHealth,\n\t\t\t\tStat.StatStamina,\n\t\t\t\tStat.StatAgility,\n\t\t\t\tStat.StatIntellect,\n\t\t\t\tStat.StatRangedAttackPower,\n\t\t\t\tStat.StatMeleeHit,\n\t\t\t\tStat.StatMeleeCrit,\n\t\t\t\tStat.StatMeleeHaste,\n\t\t\t\tStat.StatArmorPenetration,\n\t\t\t\tStat.StatMP5,\n\t\t\t],\n\t\t\tmodifyDisplayStats: (player: Player<Spec.SpecHunter>) => {\n\t\t\t\tlet stats = new Stats();\n\t\t\t\tstats = stats.addStat(Stat.StatMeleeCrit, player.getTalents().lethalShots * 1 * Mechanics.MELEE_CRIT_RATING_PER_CRIT_CHANCE);\n\n\t\t\t\tconst rangedWeapon = player.getEquippedItem(ItemSlot.ItemSlotRanged);\n\t\t\t\tif (rangedWeapon?.enchant?.effectId == 3608) {\n\t\t\t\t\tstats = stats.addStat(Stat.StatMeleeCrit, 40);\n\t\t\t\t}\n\t\t\t\tif (player.getRace() == Race.RaceDwarf && rangedWeapon?.item.rangedWeaponType == RangedWeaponType.RangedWeaponTypeGun) {\n\t\t\t\t\tstats = stats.addStat(Stat.StatMeleeCrit, 1 * Mechanics.MELEE_CRIT_RATING_PER_CRIT_CHANCE);\n\t\t\t\t}\n\t\t\t\tif (player.getRace() == Race.RaceTroll && rangedWeapon?.item.rangedWeaponType == RangedWeaponType.RangedWeaponTypeBow) {\n\t\t\t\t\tstats = stats.addStat(Stat.StatMeleeCrit, 1 * Mechanics.MELEE_CRIT_RATING_PER_CRIT_CHANCE);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttalents: stats,\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tdefaults: {\n\t\t\t\t// Default equipped gear.\n\t\t\t\tgear: Presets.SV_P1_PRESET.gear,\n\t\t\t\t// Default EP weights for sorting gear in the gear picker.\n\t\t\t\tepWeights: Stats.fromMap({\n\t\t\t\t\t[Stat.StatStamina]: 0.5,\n\t\t\t\t\t[Stat.StatAgility]: 2.65,\n\t\t\t\t\t[Stat.StatIntellect]: 1.1,\n\t\t\t\t\t[Stat.StatRangedAttackPower]: 1.0,\n\t\t\t\t\t[Stat.StatMeleeHit]: 2,\n\t\t\t\t\t[Stat.StatMeleeCrit]: 1.5,\n\t\t\t\t\t[Stat.StatMeleeHaste]: 1.39,\n\t\t\t\t\t[Stat.StatArmorPenetration]: 1.32,\n\t\t\t\t}, {\n\t\t\t\t\t[PseudoStat.PseudoStatRangedDps]: 6.32,\n\t\t\t\t}),\n\t\t\t\t// Default consumes settings.\n\t\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\t\t// Default rotation settings.\n\t\t\t\trotation: Presets.DefaultRotation,\n\t\t\t\t// Default talents.\n\t\t\t\ttalents: Presets.SurvivalTalents.data,\n\t\t\t\t// Default spec-specific settings.\n\t\t\t\tspecOptions: Presets.DefaultOptions,\n\t\t\t\t// Default raid/party buffs settings.\n\t\t\t\traidBuffs: RaidBuffs.create({\n\t\t\t\t\tarcaneBrilliance: true,\n\t\t\t\t\tpowerWordFortitude: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tbloodlust: true,\n\t\t\t\t\tstrengthOfEarthTotem: TristateEffect.TristateEffectImproved,\n\t\t\t\t\twindfuryTotem: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tbattleShout: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tleaderOfThePack: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tsanctifiedRetribution: true,\n\t\t\t\t\tunleashedRage: true,\n\t\t\t\t\tmoonkinAura: TristateEffect.TristateEffectImproved,\n\t\t\t\t}),\n\t\t\t\tpartyBuffs: PartyBuffs.create({\n\t\t\t\t}),\n\t\t\t\tindividualBuffs: IndividualBuffs.create({\n\t\t\t\t\tblessingOfKings: true,\n\t\t\t\t\tblessingOfWisdom: 2,\n\t\t\t\t\tblessingOfMight: 2,\n\t\t\t\t\tvampiricTouch: true,\n\t\t\t\t}),\n\t\t\t\tdebuffs: Debuffs.create({\n\t\t\t\t\tsunderArmor: true,\n\t\t\t\t\tfaerieFire: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tjudgementOfWisdom: true,\n\t\t\t\t\tcurseOfElements: true,\n\t\t\t\t\theartOfTheCrusader: true,\n\t\t\t\t\tsavageCombat: true,\n\t\t\t\t}),\n\t\t\t},\n\n\t\t\t// IconInputs to include in the 'Player' section on the settings tab.\n\t\t\tplayerIconInputs: [\n\t\t\t\tHunterInputs.PetTypeInput,\n\t\t\t\tHunterInputs.WeaponAmmo,\n\t\t\t\tHunterInputs.UseHuntersMark,\n\t\t\t],\n\t\t\t// Inputs to include in the 'Rotation' section on the settings tab.\n\t\t\trotationInputs: HunterInputs.HunterRotationConfig,\n\t\t\tpetConsumeInputs: [\n\t\t\t\tIconInputs.SpicedMammothTreats,\n\t\t\t],\n\t\t\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\t\t\tincludeBuffDebuffInputs: [\n\t\t\t\tIconInputs.StaminaBuff,\n\t\t\t\tIconInputs.SpellDamageDebuff,\n\t\t\t],\n\t\t\texcludeBuffDebuffInputs: [\n\t\t\t],\n\t\t\t// Inputs to include in the 'Other' section on the settings tab.\n\t\t\totherInputs: {\n\t\t\t\tinputs: [\n\t\t\t\t\tHunterInputs.PetUptime,\n\t\t\t\t\tHunterInputs.SniperTrainingUptime,\n\t\t\t\t\tOtherInputs.TankAssignment,\n\t\t\t\t\tOtherInputs.InFrontOfTarget,\n\t\t\t\t],\n\t\t\t},\n\t\t\tencounterPicker: {\n\t\t\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\t\t\tshowExecuteProportion: false,\n\t\t\t},\n\n\t\t\tpresets: {\n\t\t\t\t// Preset talents that the user can quickly select.\n\t\t\t\ttalents: [\n\t\t\t\t\tPresets.BeastMasteryTalents,\n\t\t\t\t\tPresets.MarksmanTalents,\n\t\t\t\t\tPresets.SurvivalTalents,\n\t\t\t\t],\n\t\t\t\t// Preset rotations that the user can quickly select.\n\t\t\t\trotations: [\n\t\t\t\t\tPresets.ROTATION_PRESET_LEGACY_DEFAULT,\n\t\t\t\t\tPresets.ROTATION_PRESET_BM,\n\t\t\t\t\tPresets.ROTATION_PRESET_MM,\n\t\t\t\t\tPresets.ROTATION_PRESET_SV,\n\t\t\t\t\tPresets.ROTATION_PRESET_AOE,\n\t\t\t\t],\n\t\t\t\t// Preset gear configurations that the user can quickly select.\n\t\t\t\tgear: [\n\t\t\t\t\tPresets.MM_PRERAID_PRESET,\n\t\t\t\t\tPresets.MM_P1_PRESET,\n\t\t\t\t\tPresets.MM_P2_PRESET,\n\t\t\t\t\tPresets.MM_P3_PRESET,\n\t\t\t\t\tPresets.MM_P4_PRESET,\n\t\t\t\t\tPresets.SV_PRERAID_PRESET,\n\t\t\t\t\tPresets.SV_P1_PRESET,\n\t\t\t\t\tPresets.SV_P2_PRESET,\n\t\t\t\t\tPresets.SV_P3_PRESET,\n\t\t\t\t\tPresets.SV_P4_PRESET,\n\t\t\t\t],\n\t\t\t},\n\t\t});\n\t}\n}\n"],"names":["WeaponAmmo","InputHelpers.makeSpecOptionsEnumIconInput","fieldName","numColumns","values","value","Ammo","AmmoNone","tooltip","actionId","ActionId","fromItemId","IcebladeArrow","SaroniteRazorheads","TerrorshaftArrow","TimelessArrow","MysteriousArrow","AdamantiteStinger","BlackflightArrow","PetTypeInput","makePetTypeInputConfig","PetUptime","InputHelpers.makeSpecOptionsNumberInput","label","labelTooltip","percent","UseHuntersMark","InputHelpers.makeSpecOptionsBooleanIconInput","id","fromSpellId","SniperTrainingUptime","showWhen","player","getTalents","sniperTraining","changeEmitter","TypedEvent","onAny","specOptionsChangeEmitter","talentsChangeEmitter","HunterRotationConfig","inputs","InputHelpers.makeRotationEnumInput","name","RotationType","SingleTarget","Aoe","Custom","StingType","NoSting","ScorpidSting","SerpentSting","getRotation","type","InputHelpers.makeRotationBooleanInput","InputHelpers.makeRotationNumberInput","extraCssClasses","enableWhen","aplRotation","enabled","trapWeave","customRotation","spells","some","spell","SpellOption","ExplosiveTrap","explosiveShot","lockAndLoad","rotationChangeEmitter","InputHelpers.makeCustomRotationInput","SteadyShot","ArcaneShot","AimedShot","MultiShot","SerpentStingSpell","ScorpidStingSpell","KillShot","BlackArrow","ChimeraShot","ExplosiveShot","text","ExplosiveShotDownrank","Volley","BeastMasteryTalents","data","SavedTalents","create","talentsString","glyphs","Glyphs","major1","MajorGlyph","GlyphOfBestialWrath","major2","GlyphOfSteadyShot","major3","GlyphOfSerpentSting","minor1","MinorGlyph","GlyphOfFeignDeath","minor2","GlyphOfRevivePet","minor3","GlyphOfMendPet","MarksmanTalents","GlyphOfChimeraShot","SurvivalTalents","GlyphOfExplosiveShot","GlyphOfKillShot","DefaultRotation","HunterRotation","sting","timeToTrapWeaveMs","viperStartManaPercent","viperStopManaPercent","multiDotSerpentSting","allowExplosiveShotDownrank","steadyShotMaxDelay","CustomRotation","CustomSpell","ROTATION_PRESET_LEGACY_DEFAULT","rotation","SavedRotation","specRotationOptionsJson","toJsonString","ROTATION_PRESET_BM","APLRotation","fromJsonString","ROTATION_PRESET_MM","ROTATION_PRESET_SV","ROTATION_PRESET_AOE","DefaultOptions","HunterOptions","ammo","useHuntersMark","petType","PetType","Wolf","petTalents","ferocityDefault","petUptime","sniperTrainingUptime","BMDefaultOptions","ferocityBMDefault","DefaultConsumes","Consumes","defaultPotion","Potions","PotionOfSpeed","flask","Flask","FlaskOfEndlessRage","food","Food","FoodFishFeast","petFood","PetFood","PetFoodSpicedMammothTreats","MM_PRERAID_PRESET","Tooltips.BASIC_BIS_DISCLAIMER","getTalentTree","gear","EquipmentSpec","MM_P1_PRESET","MM_P2_PRESET","MM_P3_PRESET","MM_P4_PRESET","SV_PRERAID_PRESET","SV_P1_PRESET","SV_P2_PRESET","SV_P3_PRESET","SV_P4_PRESET","HunterSimUI","IndividualSimUI","constructor","parentElem","super","cssClass","cssScheme","knownIssues","warnings","simUI","updateOn","getContent","petIsExotic","Chimaera","CoreHound","Devilsaur","Silithid","SpiritBeast","Worm","includes","getSpecOptions","isBM","beastMastery","specOptions","HunterPetTalents","petTalentString","protoToTalentString","getPetTalentsConfig","talentPoints","getTalentPoints","maxPoints","epStats","Stat","StatStamina","StatIntellect","StatAgility","StatRangedAttackPower","StatMeleeHit","StatMeleeCrit","StatMeleeHaste","StatArmorPenetration","StatMP5","epPseudoStats","PseudoStat","PseudoStatRangedDps","epReferenceStat","displayStats","StatHealth","modifyDisplayStats","stats","Stats","addStat","lethalShots","Mechanics.MELEE_CRIT_RATING_PER_CRIT_CHANCE","rangedWeapon","getEquippedItem","ItemSlot","ItemSlotRanged","enchant","effectId","getRace","Race","RaceDwarf","item","rangedWeaponType","RangedWeaponType","RangedWeaponTypeGun","RaceTroll","RangedWeaponTypeBow","talents","defaults","Presets.SV_P1_PRESET","epWeights","fromMap","consumes","Presets.DefaultConsumes","Presets.DefaultRotation","Presets.SurvivalTalents","Presets.DefaultOptions","raidBuffs","RaidBuffs","arcaneBrilliance","powerWordFortitude","TristateEffect","TristateEffectImproved","giftOfTheWild","bloodlust","strengthOfEarthTotem","windfuryTotem","battleShout","leaderOfThePack","sanctifiedRetribution","unleashedRage","moonkinAura","partyBuffs","PartyBuffs","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfWisdom","blessingOfMight","vampiricTouch","debuffs","Debuffs","sunderArmor","faerieFire","judgementOfWisdom","curseOfElements","heartOfTheCrusader","savageCombat","playerIconInputs","HunterInputs.PetTypeInput","HunterInputs.WeaponAmmo","HunterInputs.UseHuntersMark","rotationInputs","HunterInputs.HunterRotationConfig","petConsumeInputs","IconInputs.SpicedMammothTreats","includeBuffDebuffInputs","IconInputs.StaminaBuff","IconInputs.SpellDamageDebuff","excludeBuffDebuffInputs","otherInputs","HunterInputs.PetUptime","HunterInputs.SniperTrainingUptime","OtherInputs.TankAssignment","OtherInputs.InFrontOfTarget","encounterPicker","showExecuteProportion","presets","Presets.BeastMasteryTalents","Presets.MarksmanTalents","rotations","Presets.ROTATION_PRESET_LEGACY_DEFAULT","Presets.ROTATION_PRESET_BM","Presets.ROTATION_PRESET_MM","Presets.ROTATION_PRESET_SV","Presets.ROTATION_PRESET_AOE","Presets.MM_PRERAID_PRESET","Presets.MM_P1_PRESET","Presets.MM_P2_PRESET","Presets.MM_P3_PRESET","Presets.MM_P4_PRESET","Presets.SV_PRERAID_PRESET","Presets.SV_P2_PRESET","Presets.SV_P3_PRESET","Presets.SV_P4_PRESET"],"mappings":"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"}