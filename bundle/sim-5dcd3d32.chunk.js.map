{"version":3,"file":"sim-5dcd3d32.chunk.js","sources":["../../../ui/mage/presets.ts","../../../ui/mage/inputs.ts","../../../ui/mage/sim.ts"],"sourcesContent":["import { Conjured } from '../core/proto/common.js';\nimport { Consumes } from '../core/proto/common.js';\nimport { EquipmentSpec } from '../core/proto/common.js';\nimport { Flask } from '../core/proto/common.js';\nimport { Food } from '../core/proto/common.js';\nimport { Glyphs } from '../core/proto/common.js';\nimport { ItemSpec } from '../core/proto/common.js';\nimport { Potions } from '../core/proto/common.js';\nimport { Spec } from '../core/proto/common.js';\nimport { Faction } from '../core/proto/common.js';\nimport { RaidTarget } from '../core/proto/common.js';\nimport { SavedRotation, SavedTalents } from '../core/proto/ui.js';\nimport { Player } from '../core/player.js';\nimport { NO_TARGET } from '../core/proto_utils/utils';\n\nimport {\n\tMage,\n\tMageTalents as MageTalents,\n\tMage_Rotation as MageRotation,\n\tMage_Rotation_Type as RotationType,\n\tMage_Rotation_PrimaryFireSpell as PrimaryFireSpell,\n\tMage_Rotation_AoeRotation as AoeRotationSpells,\n\tMage_Options as MageOptions,\n\tMage_Options_ArmorType as ArmorType,\n\tMageMajorGlyph,\n\tMageMinorGlyph,\n} from '../core/proto/mage.js';\n\nimport * as Tooltips from '../core/constants/tooltips.js';\nimport { APLRotation } from '../core/proto/apl.js';\n\n// Preset options for this spec.\n// Eventually we will import these values for the raid sim too, so its good to\n// keep them in a separate file.\n\n// Default talents. Uses the wowhead calculator format, make the talents on\n// https://wowhead.com/wotlk/talent-calc and copy the numbers in the url.\nexport const ArcaneTalents = {\n\tname: 'Arcane',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '23000513310033015032310250532-03-023303001',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MageMajorGlyph.GlyphOfArcaneBlast,\n\t\t\tmajor2: MageMajorGlyph.GlyphOfArcaneMissiles,\n\t\t\tmajor3: MageMajorGlyph.GlyphOfMoltenArmor,\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\n\t\t}),\n\t}),\n};\nexport const FireTalents = {\n\tname: 'Fire',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '23000503110003-0055030012303331053120301351',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFireball,\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\n\t\t}),\n\t}),\n};\n\nexport const Phase3FireTalents = {\n\tname: 'Fire Phase 3',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '23002303310003-0055030012303330053120300351',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFireball,\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\n\t\t\tminor1: MageMinorGlyph.GlyphOfArcaneIntellect,\n\t\t\tminor2: MageMinorGlyph.GlyphOfSlowFall,\n\t\t}),\n\t}),\n};\n\nexport const FrostfireTalents = {\n\tname: 'Frostfire',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '-2305032012303331053120311351-023303031',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFrostfire,\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\n\t\t}),\n\t}),\n}\nexport const FrostTalents = {\n\tname: 'Frost',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '23000503110003--0533030310233100030152231351',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFrostbolt,\n\t\t\tmajor2: MageMajorGlyph.GlyphOfEternalWater,\n\t\t\tmajor3: MageMajorGlyph.GlyphOfMoltenArmor,\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\n\t\t}),\n\t}),\n};\n\nexport const DefaultFireRotation = MageRotation.create({\n\ttype: RotationType.Fire,\n\tprimaryFireSpell: PrimaryFireSpell.Fireball,\n\tmaintainImprovedScorch: false,\n\tpyroblastDelayMs: 50,\n});\n\nexport const DefaultFFBRotation = MageRotation.create({\n\ttype: RotationType.Fire,\n\tprimaryFireSpell: PrimaryFireSpell.FrostfireBolt,\n\tmaintainImprovedScorch: false,\n\tpyroblastDelayMs: 50,\n});\n\nexport const DefaultFFBOptions = MageOptions.create({\n\tarmor: ArmorType.MoltenArmor,\n\treactionTimeMs: 300,\n\tigniteMunching: true,\n});\n\nexport const DefaultFireOptions = MageOptions.create({\n\tarmor: ArmorType.MoltenArmor,\n\tfocusMagicPercentUptime: 99,\n\tfocusMagicTarget: RaidTarget.create({\n\t\ttargetIndex: NO_TARGET,\n\t}),\n\treactionTimeMs: 300,\n\tigniteMunching: true,\n});\n\nexport const DefaultFireConsumes = Consumes.create({\n\tflask: Flask.FlaskOfTheFrostWyrm,\n\tfood: Food.FoodFirecrackerSalmon,\n\tdefaultPotion: Potions.PotionOfSpeed,\n\tdefaultConjured: Conjured.ConjuredFlameCap,\n});\n\nexport const DefaultFrostRotation = MageRotation.create({\n\ttype: RotationType.Frost,\n\twaterElementalDisobeyChance: 0.1,\n});\n\nexport const DefaultFrostOptions = MageOptions.create({\n\tarmor: ArmorType.MoltenArmor,\n\tfocusMagicTarget: RaidTarget.create({\n\t\ttargetIndex: NO_TARGET,\n\t}),\n\treactionTimeMs: 300,\n});\n\nexport const DefaultFrostConsumes = Consumes.create({\n\tdefaultPotion: Potions.PotionOfSpeed,\n\tdefaultConjured: Conjured.ConjuredFlameCap,\n\tflask: Flask.FlaskOfTheFrostWyrm,\n\tfood: Food.FoodFishFeast,\n});\n\nexport const DefaultArcaneRotation = MageRotation.create({\n\ttype: RotationType.Arcane,\n\tonly3ArcaneBlastStacksBelowManaPercent: 0.15,\n\tblastWithoutMissileBarrageAboveManaPercent: 0.2,\n\textraBlastsDuringFirstAp: 0,\n\tmissileBarrageBelowArcaneBlastStacks: 0,\n\tmissileBarrageBelowManaPercent: 0,\n});\n\nexport const DefaultArcaneOptions = MageOptions.create({\n\tarmor: ArmorType.MoltenArmor,\n\tfocusMagicPercentUptime: 99,\n\tfocusMagicTarget: RaidTarget.create({\n\t\ttargetIndex: NO_TARGET,\n\t}),\n\treactionTimeMs: 300,\n});\n\nexport const DefaultArcaneConsumes = Consumes.create({\n\tdefaultPotion: Potions.PotionOfSpeed,\n\tdefaultConjured: Conjured.ConjuredDarkRune,\n\tflask: Flask.FlaskOfTheFrostWyrm,\n\tfood: Food.FoodFirecrackerSalmon,\n});\n\nexport const OtherDefaults = {\n\tdistanceFromTarget: 25,\n};\n\nexport const ARCANE_ROTATION_PRESET_DEFAULT = {\n\tname: 'Arcane APL',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultArcaneRotation),\n\t\trotation: APLRotation.fromJsonString(`{\n\t\t\t\"enabled\": true,\n\t\t\t\"prepullActions\": [\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n\t\t\t],\n\t\t\t\"priorityList\": [\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":26297}}}},\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":54758}}}},\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"itemId\":40211}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"auraNumStacks\":{\"auraId\":{\"spellId\":36032}}},\"rhs\":{\"const\":{\"val\":\"4\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42897}}}},\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44401}}},\"castSpell\":{\"spellId\":{\"spellId\":42846}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":12051}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42897}}}},\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42846}}}}\n\t\t\t]\n\t\t}`)\n\t}),\n}\n\nexport const FIRE_ROTATION_PRESET_DEFAULT = {\n\tname: 'Fire APL',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFireRotation),\n\t\trotation: APLRotation.fromJsonString(`{\n\t\t\t\"enabled\": true,\n\t\t\t\"prepullActions\": [\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n\t\t\t],\n\t\t\t\"priorityList\": [\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44448}}},\"castSpell\":{\"spellId\":{\"spellId\":42891}}}},\n\t\t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":55360}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"12s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":55360}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"spellCastTime\":{\"spellId\":{\"spellId\":42859}}}}},\"castSpell\":{\"spellId\":{\"spellId\":42873}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"4s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42833}}}}\n\t\t\t]\n\t\t}`),\n\t}),\n}\n\nexport const FROSTFIRE_ROTATION_PRESET_DEFAULT = {\n\tname: 'Frostfire APL',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFFBRotation),\n\t\trotation: APLRotation.fromJsonString(`{\n\t\t\t\"enabled\": true,\n\t\t\t\"prepullActions\": [\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n\t\t\t],\n\t\t\t\"priorityList\": [\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44448}}},\"castSpell\":{\"spellId\":{\"spellId\":42891}}}},\n\t\t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":55360}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"12s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":55360}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"spellCastTime\":{\"spellId\":{\"spellId\":42859}}}}},\"castSpell\":{\"spellId\":{\"spellId\":42873}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"3.5s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":47610}}}}\n\t\t\t]\n\t\t}`),\n\t}),\n}\n\nexport const FROST_ROTATION_PRESET_DEFAULT = {\n\tname: 'Frost APL',\n\trotation: SavedRotation.create({\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFrostRotation),\n\t\trotation: APLRotation.fromJsonString(`{\n\t\t\t\"enabled\": true,\n\t\t\t\"prepullActions\": [\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAt\":\"-1s\"}\n\t\t\t],\n\t\t\t\"priorityList\": [\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":26297}}}},\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":54758}}}},\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":12051}}}},\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44545}}},\"castSpell\":{\"spellId\":{\"spellId\":44572}}}},\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44549}}},\"castSpell\":{\"spellId\":{\"spellId\":47610}}}},\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42842}}}}\n\t\t\t]\n\t\t}`),\n\t}),\n}\n\nexport const ARCANE_PRERAID_PRESET = {\n\tname: \"Arcane Preraid Preset\",\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":42553,\"enchant\":3820,\"gems\":[41285,40049]},\n\t\t{\"id\":39472},\n\t\t{\"id\":37673,\"enchant\":3810,\"gems\":[39998]},\n\t\t{\"id\":41610,\"enchant\":3722},\n\t\t{\"id\":39492,\"enchant\":3832,\"gems\":[39998,40049]},\n\t\t{\"id\":37361,\"enchant\":2332,\"gems\":[0]},\n\t\t{\"id\":39495,\"enchant\":3604,\"gems\":[39998,0]},\n\t\t{\"id\":40696,\"gems\":[40049,40026]},\n\t\t{\"id\":37854,\"enchant\":3719},\n\t\t{\"id\":44202,\"enchant\":3606,\"gems\":[40026]},\n\t\t{\"id\":40585},\n\t\t{\"id\":37694},\n\t\t{\"id\":37873},\n\t\t{\"id\":40682},\n\t\t{\"id\":37360,\"enchant\":3854},\n\t\t{},\n\t\t{\"id\":37238}\n\t]}`),\n};\n\nexport const FIRE_PRERAID_PRESET = {\n\tname: \"Fire Preraid Preset\",\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":42553,\"enchant\":3820,\"gems\":[41285,40014]},\n\t\t{\"id\":39472},\n\t\t{\"id\":34210,\"enchant\":3810,\"gems\":[40049,40014]},\n\t\t{\"id\":41610,\"enchant\":3859},\n\t\t{\"id\":39492,\"enchant\":3832,\"gems\":[40049,40014]},\n\t\t{\"id\":37361,\"enchant\":2332,\"gems\":[0]},\n\t\t{\"id\":39495,\"enchant\":3604,\"gems\":[40049,0]},\n\t\t{\"id\":40696,\"gems\":[40014,40026]},\n\t\t{\"id\":37854,\"enchant\":3719},\n\t\t{\"id\":44202,\"enchant\":3826,\"gems\":[40026]},\n\t\t{\"id\":40585},\n\t\t{\"id\":42644,\"gems\":[40049]},\n\t\t{\"id\":37873},\n\t\t{\"id\":40682},\n\t\t{\"id\":45085,\"enchant\":3834},\n\t\t{\"id\":40698},\n\t\t{\"id\":37177}\n\t]}`),\n};\n\nexport const ARCANE_P1_PRESET = {\n\tname: 'Arcane P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\n\t\t{\"id\":44661,\"gems\":[40026]},\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40051]},\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\n\t\t{\"id\":44002,\"enchant\":3832,\"gems\":[39998,39998]},\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\n\t\t{\"id\":40561,\"gems\":[39998]},\n\t\t{\"id\":40417,\"enchant\":3719,\"gems\":[39998,40051]},\n\t\t{\"id\":40558,\"enchant\":3606},\n\t\t{\"id\":40719},\n\t\t{\"id\":40399},\n\t\t{\"id\":39229},\n\t\t{\"id\":40255},\n\t\t{\"id\":40396,\"enchant\":3834},\n\t\t{\"id\":40273},\n\t\t{\"id\":39426}\n\t]}`),\n};\n\nexport const FIRE_P1_PRESET = {\n\tname: 'Fire P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\n\t\t{\"id\":44661,\"gems\":[40026]},\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40049]},\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\n\t\t{\"id\":40418,\"enchant\":3832,\"gems\":[39998,40048]},\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\n\t\t{\"id\":40301,\"gems\":[39998]},\n\t\t{\"id\":40560,\"enchant\":3719},\n\t\t{\"id\":40246,\"enchant\":3606},\n\t\t{\"id\":40399},\n\t\t{\"id\":40719},\n\t\t{\"id\":40255},\n\t\t{\"id\":40432},\n\t\t{\"id\":40396,\"enchant\":3834},\n\t\t{\"id\":40273},\n\t\t{\"id\":39712}\n\t]}`),\n};\n\nexport const FROST_P1_PRESET = {\n\tname: 'Frost P1 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\n\t\t{\"id\":44661,\"gems\":[40026]},\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40051]},\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\n\t\t{\"id\":40418,\"enchant\":3832,\"gems\":[39998,40048]},\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\n\t\t{\"id\":40301,\"gems\":[39998]},\n\t\t{\"id\":40560,\"enchant\":3719},\n\t\t{\"id\":40558,\"enchant\":3606},\n\t\t{\"id\":40399},\n\t\t{\"id\":40719},\n\t\t{\"id\":40255},\n\t\t{\"id\":40432},\n\t\t{\"id\":40396,\"enchant\":3834},\n\t\t{\"id\":39766},\n\t\t{\"id\":39712}\n\t]}`),\n};\n\nexport const ARCANE_P2_PRESET = {\n\tname: 'Arcane P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\n\t\t{\"id\":45243,\"gems\":[39998]},\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[40026]},\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\n\t\t{\"id\":45619,\"gems\":[39998,39998,39998]},\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40051,40026]},\n\t\t{\"id\":45135,\"enchant\":3606,\"gems\":[39998,39998]},\n\t\t{\"id\":46046,\"gems\":[39998]},\n\t\t{\"id\":45495,\"gems\":[39998]},\n\t\t{\"id\":45466},\n\t\t{\"id\":45518},\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\n\t\t{\"id\":45617},\n\t\t{\"id\":45294,\"gems\":[39998]}\n\t]}`),\n};\n\nexport const FIRE_P2_PRESET = {\n\tname: 'Fire P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":46129,\"enchant\":3820,\"gems\":[41285,45883]},\n\t\t{\"id\":45133,\"gems\":[40048]},\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\n\t\t{\"id\":45242,\"enchant\":3722,\"gems\":[39998]},\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[40026,40048,0]},\n\t\t{\"id\":45619,\"gems\":[40048,40048,39998]},\n\t\t{\"id\":46133,\"enchant\":3719,\"gems\":[39998,39998]},\n\t\t{\"id\":45537,\"enchant\":3606,\"gems\":[39998,40026]},\n\t\t{\"id\":45495,\"gems\":[39998]},\n\t\t{\"id\":46046,\"gems\":[39998]},\n\t\t{\"id\":45466},\n\t\t{\"id\":45518},\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\n\t\t{\"id\":45617},\n\t\t{\"id\":45294,\"gems\":[39998]}\n\t]}`),\n};\n\nexport const FROST_P2_PRESET = {\n\tname: 'Frost P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\n\t\t{\"id\":45133,\"gems\":[40051]},\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[40026]},\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\n\t\t{\"id\":45619,\"gems\":[40049,40049,39998]},\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40051,40026]},\n\t\t{\"id\":45135,\"enchant\":3606,\"gems\":[39998,40049]},\n\t\t{\"id\":46046,\"gems\":[39998]},\n\t\t{\"id\":45495,\"gems\":[39998]},\n\t\t{\"id\":45466},\n\t\t{\"id\":45518},\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[40026]},\n\t\t{\"id\":45617},\n\t\t{\"id\":45294,\"gems\":[39998]}\n\t]}`),\n};\n\nexport const FFB_P2_PRESET = {\n\tname: 'FFB P2 Preset',\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && player.getTalents().icyVeins,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\n\t\t{\"id\":45133,\"gems\":[40048]},\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[39998]},\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\n\t\t{\"id\":45619,\"gems\":[40048,40048,39998]},\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40048,40026]},\n\t\t{\"id\":45537,\"enchant\":3606,\"gems\":[39998,40026]},\n\t\t{\"id\":45495,\"gems\":[39998]},\n\t\t{\"id\":46046,\"gems\":[39998]},\n\t\t{\"id\":45466},\n\t\t{\"id\":45518},\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\n\t\t{\"id\":45617},\n\t\t{\"id\":45294,\"gems\":[39998]}\n\t  ]}`),\n};\n\nexport const ARCANE_P3_PRESET_HORDE = {\n\tname: 'Arcane P3 Preset Horde',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0 && player.getFaction() == Faction.Horde,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47468,\"gems\":[40155]},\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47425,\"enchant\":3832,\"gems\":[40133,40113,40155]},\n        {\"id\":47485,\"enchant\":2332,\"gems\":[40133,0]},\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47419,\"gems\":[40133,40113,40113]},\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47489,\"gems\":[40155]},\n        {\"id\":47477},\n        {\"id\":45518},\n        {\"id\":47422,\"enchant\":3834,\"gems\":[40133]},\n        {\"id\":48032,\"gems\":[40155]},\n        {\"id\":45294,\"gems\":[40113]}\n    ]}`),\n};\n\nexport const ARCANE_P3_PRESET_ALLIANCE = {\n\tname: 'Arcane P3 Preset Alliance',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0 && player.getFaction() == Faction.Alliance,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47144,\"gems\":[40155]},\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":46993,\"enchant\":3832,\"gems\":[40133,40113,40155]},\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":46973,\"gems\":[40133,40113,40113]},\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47489,\"gems\":[40155]},\n        {\"id\":47188},\n        {\"id\":45518},\n        {\"id\":46980,\"enchant\":3834,\"gems\":[40133]},\n        {\"id\":47958,\"gems\":[40155]},\n        {\"id\":47922}\n    ]}`),\n};\n\nexport const FROST_P3_PRESET_HORDE = {\n\tname: 'Frost P3 Preset Horde',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2 && player.getFaction() == Faction.Horde,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47468,\"gems\":[40155]},\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47462,\"enchant\":3832,\"gems\":[40133,40155,40155]},\n        {\"id\":47485,\"enchant\":2332,\"gems\":[40155,0]},\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47419,\"gems\":[40133,40113,40113]},\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":46046,\"gems\":[40113]},\n        {\"id\":47477},\n        {\"id\":45518},\n        {\"id\":47422,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":48032,\"gems\":[40155]},\n        {\"id\":45294,\"gems\":[40113]}\n    ]}`),\n};\n\nexport const FROST_P3_PRESET_ALLIANCE = {\n\tname: 'Frost P3 Preset Alliance',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2 && player.getFaction() == Faction.Alliance,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47144,\"gems\":[40155]},\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47129,\"enchant\":3832,\"gems\":[40133,40153,40155]},\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40155,0]},\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":46973,\"gems\":[40133,40113,40113]},\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":46046,\"gems\":[40155]},\n        {\"id\":47188},\n        {\"id\":45518},\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":47958,\"gems\":[40155]},\n        {\"id\":45294,\"gems\":[40113]}\n    ]}`),\n};\n\nexport const FIRE_P3_PRESET_HORDE = {\n\tname: 'Fire P3 Preset Horde',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && !player.getTalents().icyVeins && player.getFaction() == Faction.Horde,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47468,\"gems\":[40155]},\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47462,\"enchant\":3832,\"gems\":[40133,40155,40113]},\n        {\"id\":47467,\"enchant\":2332,\"gems\":[40155,0]},\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47447,\"gems\":[40133,40113,40113]},\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47489,\"gems\":[40155]},\n        {\"id\":47477},\n        {\"id\":45518},\n        {\"id\":47518,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":47437},\n        {\"id\":45294,\"gems\":[40113]}\n    ]}`),\n};\n\nexport const FIRE_P3_PRESET_ALLIANCE = {\n\tname: 'Fire P3 Preset Alliance',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && !player.getTalents().icyVeins && player.getFaction() == Faction.Alliance,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{  \"items\": [\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47144,\"gems\":[40155]},\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47129,\"enchant\":3832,\"gems\":[40133,40153,40113]},\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47084,\"gems\":[40133,40113,40113]},\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47237,\"gems\":[40155]},\n        {\"id\":47188},\n        {\"id\":45518},\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":47064},\n        {\"id\":45294,\"gems\":[40153]}\n    ]}`),\n};\n\n\n\n\nexport const FFB_P3_PRESET_HORDE = {\n\tname: 'FFB P3 Preset Horde',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getFaction() == Faction.Horde && player.getTalentTree() == 1 && player.getTalents().icyVeins,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47468,\"gems\":[40155]},\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":47425,\"enchant\":3832,\"gems\":[40133,40113,40155]},\n        {\"id\":47467,\"enchant\":2332,\"gems\":[40155,0]},\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47447,\"gems\":[40133,40113,40113]},\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47489,\"gems\":[40155]},\n        {\"id\":47477},\n        {\"id\":45518},\n        {\"id\":47518,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":47437},\n        {\"id\":45294,\"gems\":[40113]}\n    ]}`),\n};\n\nexport const FFB_P3_PRESET_ALLIANCE = {\n\tname: 'FFB P3 Preset Alliance',\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getFaction() == Faction.Alliance && player.getTalentTree() == 1 && player.getTalents().icyVeins,\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\n\tgear: EquipmentSpec.fromJsonString(`{   \"items\": [\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\n        {\"id\":47144,\"gems\":[40155]},\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\n        {\"id\":46993,\"enchant\":3832,\"gems\":[40133,40113,40153]},\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\n        {\"id\":47084,\"gems\":[40133,40113,40113]},\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\n        {\"id\":45495,\"gems\":[40133]},\n        {\"id\":47237,\"gems\":[40155]},\n        {\"id\":47188},\n        {\"id\":45518},\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\n        {\"id\":47064},\n        {\"id\":45294,\"gems\":[40155]}\n    ]}`),\n};","import { Spec } from '../core/proto/common.js';\nimport { ActionId } from '../core/proto_utils/action_id.js';\nimport { Player } from '../core/player.js';\nimport { EventID, TypedEvent } from '../core/typed_event.js';\n\nimport {\n\tMage,\n\tMageTalents as MageTalents,\n\tMage_Rotation as MageRotation,\n\tMage_Rotation_Type as RotationType,\n\tMage_Rotation_PrimaryFireSpell as PrimaryFireSpell,\n\tMage_Rotation_AoeRotation as AoeRotationSpells,\n\tMage_Options as MageOptions,\n\tMage_Options_ArmorType as ArmorType,\n} from '../core/proto/mage.js';\n\nimport * as InputHelpers from '../core/components/input_helpers.js';\nimport * as Presets from './presets.js';\n\n// Configuration for spec-specific UI elements on the settings tab.\n// These don't need to be in a separate file but it keeps things cleaner.\n\nexport const Armor = InputHelpers.makeSpecOptionsEnumIconInput<Spec.SpecMage, ArmorType>({\n\tfieldName: 'armor',\n\tvalues: [\n\t\t{ value: ArmorType.NoArmor, tooltip: 'No Armor' },\n\t\t{ actionId: ActionId.fromSpellId(43024), value: ArmorType.MageArmor },\n\t\t{ actionId: ActionId.fromSpellId(43046), value: ArmorType.MoltenArmor },\n\t],\n});\n\nexport const EvocationTicks = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\n\tfieldName: 'evocationTicks',\n\tlabel: '# Evocation Ticks',\n\tlabelTooltip: 'The number of ticks of Evocation to use, or 0 to use the full duration.',\n});\n\nexport const FocusMagicUptime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\n\tfieldName: 'focusMagicPercentUptime',\n\tlabel: 'Focus Magic Percent Uptime',\n\tlabelTooltip: 'Percent of uptime for Focus Magic Buddy',\n\textraCssClasses: ['within-raid-sim-hide'],\n});\n\nexport const ReactionTime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\n\tfieldName: 'reactionTimeMs',\n\tlabel: 'Reaction Time (ms)',\n\tlabelTooltip: 'Duration, in milliseconds, for player reaction time. Only used for a few effects (Missile Barrage / Hot Streak / Brain Freeze).',\n});\n\nexport const MageRotationConfig = {\n\tinputs: [\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, RotationType>({\n\t\t\tfieldName: 'type',\n\t\t\tlabel: 'Spec',\n\t\t\tlabelTooltip: 'Switches between spec rotation settings. Will also update talents to defaults for the selected spec.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Arcane', value: RotationType.Arcane },\n\t\t\t\t{ name: 'Fire', value: RotationType.Fire },\n\t\t\t\t{ name: 'Frost', value: RotationType.Frost },\n\t\t\t],\n\t\t\tsetValue: (eventID: EventID, player: Player<Spec.SpecMage>, newValue: number) => {\n\t\t\t\tconst newRotation = player.getRotation();\n\t\t\t\tnewRotation.type = newValue;\n\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\n\t\t\t\t\tif (newRotation.type == RotationType.Arcane) {\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.ArcaneTalents.data.talentsString);\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.ArcaneTalents.data.glyphs!);\n\t\t\t\t\t} else if (newRotation.type == RotationType.Fire) {\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.FireTalents.data.talentsString);\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.FireTalents.data.glyphs!);\n\t\t\t\t\t} else if (newRotation.type == RotationType.Frost) {\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.FrostTalents.data.talentsString);\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.FrostTalents.data.glyphs!);\n\t\t\t\t\t}\n\n\t\t\t\t\tplayer.setRotation(eventID, newRotation);\n\t\t\t\t});\n\t\t\t},\n\t\t}),\n\t\t// ********************************************************\n\t\t//                        AOE INPUTS\n\t\t// ********************************************************\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, AoeRotationSpells>({\n\t\t\tfieldName: 'aoe',\n\t\t\tlabel: 'Primary Spell',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Arcane Explosion', value: AoeRotationSpells.ArcaneExplosion },\n\t\t\t\t{ name: 'Flamestrike', value: AoeRotationSpells.Flamestrike },\n\t\t\t\t{ name: 'Blizzard', value: AoeRotationSpells.Blizzard },\n\t\t\t],\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Aoe,\n\t\t}),\n\t\t// ********************************************************\n\t\t//                       FIRE INPUTS\n\t\t// ********************************************************\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, PrimaryFireSpell>({\n\t\t\tfieldName: 'primaryFireSpell',\n\t\t\tlabel: 'Primary Spell',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Fireball', value: PrimaryFireSpell.Fireball },\n\t\t\t\t{ name: 'Frostfire Bolt', value: PrimaryFireSpell.FrostfireBolt },\n\t\t\t\t{ name: 'Scorch', value: PrimaryFireSpell.Scorch },\n\t\t\t],\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Fire,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'pyroblastDelayMs',\n\t\t\tlabel: 'Pyroblast Delay (ms)',\n\t\t\tlabelTooltip: `\n\t\t\t\t<p>Adds a delay to Pyroblast after a Hot Streak to prevent ignite munching. 50ms is a good default for this.</p>\n\t\t\t\t<p>There is no way to do this perfectly in-game, but a cqs macro can do this with about 70-90% reliability.</p>\n\t\t\t`,\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Fire && player.getRotation().primaryFireSpell == PrimaryFireSpell.Fireball && player.getSpecOptions().igniteMunching,\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.specOptionsChangeEmitter]),\n\t\t}),\n\t\t// ********************************************************\n\t\t//                       FROST INPUTS\n\t\t// ********************************************************\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\n\t\t\tfieldName: 'useIceLance',\n\t\t\tlabel: 'Use Ice Lance',\n\t\t\tlabelTooltip: 'Casts Ice Lance at the end of Fingers of Frost, after using Deep Freeze.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Frost,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'waterElementalDisobeyChance',\n\t\t\tpercent: true,\n\t\t\tlabel: 'Water Ele Disobey %',\n\t\t\tlabelTooltip: 'Percent of Water Elemental actions which will fail. This represents the Water Elemental moving around or standing still instead of casting.',\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Frost,\n\t\t\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalents().summonWaterElemental,\n\t\t}),\n\t\t// ********************************************************\n\t\t//                      ARCANE INPUTS\n\t\t// ********************************************************\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'only3ArcaneBlastStacksBelowManaPercent',\n\t\t\tpercent: true,\n\t\t\tlabel: 'Stack Arcane Blast to 3 below mana %',\n\t\t\tlabelTooltip: 'When below this mana %, AM/ABarr will be used at 3 stacks of AB instead of 4.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'blastWithoutMissileBarrageAboveManaPercent',\n\t\t\tpercent: true,\n\t\t\tlabel: 'AB without Missile Barrage above mana %',\n\t\t\tlabelTooltip: 'When above this mana %, spam AB until a Missile Barrage proc occurs.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'extraBlastsDuringFirstAp',\n\t\t\tlabel: 'Extra ABs during first AP',\n\t\t\tlabelTooltip: 'Extend AB streak by this mana casts, during the first Arcane Power CD duration.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'missileBarrageBelowArcaneBlastStacks',\n\t\t\tlabel: 'Use Missile Barrage below n AB stacks',\n\t\t\tlabelTooltip: 'Setting this to 1 or 2 can potentially be a DPS increase with Arcane Barrage rotation or T8 4pc set bonus.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t}),\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\n\t\t\tfieldName: 'missileBarrageBelowManaPercent',\n\t\t\tpercent: true,\n\t\t\tlabel: 'Use Missile Barrage ASAP below mana %',\n\t\t\tlabelTooltip: 'When below this mana %, use Missile Barrage proc as soon as possible. Can be useful to conserve mana.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t}),\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\n\t\t\tfieldName: 'useArcaneBarrage',\n\t\t\tlabel: 'Use Arcane Barrage',\n\t\t\tlabelTooltip: 'Includes Arcane Barrage in the rotation.',\n\t\t\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalents().arcaneBarrage,\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\n\t\t\tfieldName: 'maintainImprovedScorch',\n\t\t\tlabel: 'Maintain Imp. Scorch',\n\t\t\tlabelTooltip: 'Always use Scorch when below 5 stacks, or < 4s remaining on debuff.',\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getTalents().improvedScorch > 0,\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t],\n};\n","import { RaidBuffs } from '../core/proto/common.js';\nimport { PartyBuffs } from '../core/proto/common.js';\nimport { IndividualBuffs } from '../core/proto/common.js';\nimport { Debuffs } from '../core/proto/common.js';\nimport { Spec } from '../core/proto/common.js';\nimport { Stat } from '../core/proto/common.js';\nimport { TristateEffect } from '../core/proto/common.js'\nimport { Stats } from '../core/proto_utils/stats.js';\nimport { Player } from '../core/player.js';\nimport { IndividualSimUI } from '../core/individual_sim_ui.js';\n\nimport {\n\tMage,\n\tMage_Rotation as MageRotation,\n\tMage_Rotation_Type as RotationType,\n\tMageTalents as MageTalents,\n\tMage_Options as MageOptions,\n} from '../core/proto/mage.js';\n\nimport * as IconInputs from '../core/components/icon_inputs.js';\nimport * as OtherInputs from '../core/components/other_inputs.js';\nimport * as Mechanics from '../core/constants/mechanics.js';\nimport * as Tooltips from '../core/constants/tooltips.js';\n\nimport * as MageInputs from './inputs.js';\nimport * as Presets from './presets.js';\n\nexport class MageSimUI extends IndividualSimUI<Spec.SpecMage> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecMage>) {\n\t\tsuper(parentElem, player, {\n\t\t\tcssClass: 'mage-sim-ui',\n\t\t\tcssScheme: 'mage',\n\t\t\t// List any known bugs / issues here and they'll be shown on the site.\n\t\t\tknownIssues: [\n\t\t\t],\n\n\t\t\t// All stats for which EP should be calculated.\n\t\t\tepStats: [\n\t\t\t\tStat.StatIntellect,\n\t\t\t\tStat.StatSpirit,\n\t\t\t\tStat.StatSpellPower,\n\t\t\t\tStat.StatSpellHit,\n\t\t\t\tStat.StatSpellCrit,\n\t\t\t\tStat.StatSpellHaste,\n\t\t\t\tStat.StatMP5,\n\t\t\t],\n\t\t\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\n\t\t\tepReferenceStat: Stat.StatSpellPower,\n\t\t\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\t\t\tdisplayStats: [\n\t\t\t\tStat.StatHealth,\n\t\t\t\tStat.StatMana,\n\t\t\t\tStat.StatStamina,\n\t\t\t\tStat.StatIntellect,\n\t\t\t\tStat.StatSpirit,\n\t\t\t\tStat.StatSpellPower,\n\t\t\t\tStat.StatSpellHit,\n\t\t\t\tStat.StatSpellCrit,\n\t\t\t\tStat.StatSpellHaste,\n\t\t\t\tStat.StatMP5,\n\t\t\t],\n\t\t\tmodifyDisplayStats: (player: Player<Spec.SpecMage>) => {\n\t\t\t\tlet stats = new Stats();\n\t\t\t\tif (player.getRotation().type == RotationType.Arcane) {\n\t\t\t\t\tstats = stats.addStat(Stat.StatSpellHit, player.getTalents().arcaneFocus * 1 * Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttalents: stats,\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tdefaults: {\n\t\t\t\t// Default equipped gear.\n\t\t\t\tgear: Presets.ARCANE_P1_PRESET.gear,\n\t\t\t\t// Default EP weights for sorting gear in the gear picker.\n\t\t\t\tepWeights: Stats.fromMap({\n\t\t\t\t\t[Stat.StatIntellect]: 0.48,\n\t\t\t\t\t[Stat.StatSpirit]: 0.42,\n\t\t\t\t\t[Stat.StatSpellPower]: 1,\n\t\t\t\t\t[Stat.StatSpellHit]: 0.38,\n\t\t\t\t\t[Stat.StatSpellCrit]: 0.58,\n\t\t\t\t\t[Stat.StatSpellHaste]: 0.94,\n\t\t\t\t\t[Stat.StatMP5]: 0.09,\n\t\t\t\t}),\n\t\t\t\t// Default consumes settings.\n\t\t\t\tconsumes: Presets.DefaultArcaneConsumes,\n\t\t\t\t// Default rotation settings.\n\t\t\t\trotation: Presets.DefaultArcaneRotation,\n\t\t\t\t// Default talents.\n\t\t\t\ttalents: Presets.ArcaneTalents.data,\n\t\t\t\t// Default spec-specific settings.\n\t\t\t\tspecOptions: Presets.DefaultArcaneOptions,\n\t\t\t\tother: Presets.OtherDefaults,\n\t\t\t\t// Default raid/party buffs settings.\n\t\t\t\traidBuffs: RaidBuffs.create({\n\t\t\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tbloodlust: true,\n\t\t\t\t\tmanaSpringTotem: TristateEffect.TristateEffectImproved,\n\t\t\t\t\twrathOfAirTotem: true,\n\t\t\t\t\tdivineSpirit: true,\n\t\t\t\t\tswiftRetribution: true,\n\t\t\t\t\tsanctifiedRetribution: true,\n\t\t\t\t\tdemonicPact: 500,\n\t\t\t\t\tmoonkinAura: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tarcaneBrilliance: true,\n\t\t\t\t}),\n\t\t\t\tpartyBuffs: PartyBuffs.create({\n\t\t\t\t\tmanaTideTotems: 1,\n\t\t\t\t}),\n\t\t\t\tindividualBuffs: IndividualBuffs.create({\n\t\t\t\t\tblessingOfKings: true,\n\t\t\t\t\tblessingOfWisdom: TristateEffect.TristateEffectImproved,\n\t\t\t\t\tinnervates: 0,\n\t\t\t\t\tvampiricTouch: true,\n\t\t\t\t}),\n\t\t\t\tdebuffs: Debuffs.create({\n\t\t\t\t\tjudgementOfWisdom: true,\n\t\t\t\t\tmisery: true,\n\t\t\t\t\tcurseOfElements: true,\n\t\t\t\t\tshadowMastery: true,\n\t\t\t\t\theartOfTheCrusader: true,\n\t\t\t\t}),\n\t\t\t},\n\n\t\t\t// IconInputs to include in the 'Player' section on the settings tab.\n\t\t\tplayerIconInputs: [\n\t\t\t\tMageInputs.Armor,\n\t\t\t],\n\t\t\t// Inputs to include in the 'Rotation' section on the settings tab.\n\t\t\trotationInputs: MageInputs.MageRotationConfig,\n\t\t\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\t\t\tincludeBuffDebuffInputs: [\n\t\t\t\t//Should add hymn of hope, revitalize, and \n\t\t\t],\n\t\t\texcludeBuffDebuffInputs: [\n\t\t\t],\n\t\t\t// Inputs to include in the 'Other' section on the settings tab.\n\t\t\totherInputs: {\n\t\t\t\tinputs: [\n\t\t\t\t\tMageInputs.EvocationTicks,\n\t\t\t\t\tMageInputs.FocusMagicUptime,\n\t\t\t\t\tMageInputs.ReactionTime,\n\t\t\t\t\tOtherInputs.DistanceFromTarget,\n\t\t\t\t\tOtherInputs.TankAssignment,\n\t\t\t\t],\n\t\t\t},\n\t\t\tencounterPicker: {\n\t\t\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\t\t\tshowExecuteProportion: true,\n\t\t\t},\n\n\t\t\tpresets: {\n\t\t\t\t// Preset rotations that the user can quickly select.\n\t\t\t\trotations: [\n\t\t\t\t\tPresets.ARCANE_ROTATION_PRESET_DEFAULT,\n\t\t\t\t\tPresets.FIRE_ROTATION_PRESET_DEFAULT,\n\t\t\t\t\tPresets.FROSTFIRE_ROTATION_PRESET_DEFAULT,\n\t\t\t\t\tPresets.FROST_ROTATION_PRESET_DEFAULT,\n\t\t\t\t],\n\t\t\t\t// Preset talents that the user can quickly select.\n\t\t\t\ttalents: [\n\t\t\t\t\tPresets.ArcaneTalents,\n\t\t\t\t\tPresets.FireTalents,\n\t\t\t\t\tPresets.FrostfireTalents,\n\t\t\t\t\tPresets.FrostTalents,\n\t\t\t\t\tPresets.Phase3FireTalents,\n\t\t\t\t],\n\t\t\t\t// Preset gear configurations that the user can quickly select.\n\t\t\t\tgear: [\n\t\t\t\t\tPresets.ARCANE_PRERAID_PRESET,\n\t\t\t\t\tPresets.FIRE_PRERAID_PRESET,\n\t\t\t\t\tPresets.ARCANE_P1_PRESET,\n\t\t\t\t\tPresets.FIRE_P1_PRESET,\n\t\t\t\t\tPresets.FROST_P1_PRESET,\n\t\t\t\t\tPresets.ARCANE_P2_PRESET,\n\t\t\t\t\tPresets.FIRE_P2_PRESET,\n\t\t\t\t\tPresets.FROST_P2_PRESET,\n\t\t\t\t\tPresets.FFB_P2_PRESET,\n\t\t\t\t\tPresets.ARCANE_P3_PRESET_ALLIANCE,\n\t\t\t\t\tPresets.ARCANE_P3_PRESET_HORDE,\n\t\t\t\t\tPresets.FROST_P3_PRESET_ALLIANCE,\n\t\t\t\t\tPresets.FROST_P3_PRESET_HORDE,\n\t\t\t\t\tPresets.FIRE_P3_PRESET_ALLIANCE,\n\t\t\t\t\tPresets.FIRE_P3_PRESET_HORDE,\n\t\t\t\t\tPresets.FFB_P3_PRESET_ALLIANCE,\n\t\t\t\t\tPresets.FFB_P3_PRESET_HORDE,\n\t\t\t\t],\n\t\t\t},\n\t\t});\n\t}\n}\n"],"names":["ArcaneTalents","name","data","SavedTalents","create","talentsString","glyphs","Glyphs","major1","MageMajorGlyph","GlyphOfArcaneBlast","major2","GlyphOfArcaneMissiles","major3","GlyphOfMoltenArmor","minor1","MageMinorGlyph","GlyphOfSlowFall","minor2","GlyphOfFrostWard","minor3","GlyphOfBlastWave","FireTalents","GlyphOfFireball","GlyphOfLivingBomb","Phase3FireTalents","GlyphOfArcaneIntellect","FrostfireTalents","GlyphOfFrostfire","FrostTalents","GlyphOfFrostbolt","GlyphOfEternalWater","DefaultFireRotation","MageRotation","type","RotationType","Fire","primaryFireSpell","PrimaryFireSpell","Fireball","maintainImprovedScorch","pyroblastDelayMs","DefaultFFBRotation","FrostfireBolt","DefaultFFBOptions","MageOptions","armor","ArmorType","MoltenArmor","reactionTimeMs","igniteMunching","DefaultFireOptions","focusMagicPercentUptime","focusMagicTarget","RaidTarget","targetIndex","NO_TARGET","DefaultFireConsumes","Consumes","flask","Flask","FlaskOfTheFrostWyrm","food","Food","FoodFirecrackerSalmon","defaultPotion","Potions","PotionOfSpeed","defaultConjured","Conjured","ConjuredFlameCap","DefaultFrostRotation","Frost","waterElementalDisobeyChance","FoodFishFeast","DefaultArcaneRotation","Arcane","only3ArcaneBlastStacksBelowManaPercent","blastWithoutMissileBarrageAboveManaPercent","extraBlastsDuringFirstAp","missileBarrageBelowArcaneBlastStacks","missileBarrageBelowManaPercent","DefaultArcaneOptions","DefaultArcaneConsumes","ConjuredDarkRune","OtherDefaults","distanceFromTarget","ARCANE_ROTATION_PRESET_DEFAULT","rotation","SavedRotation","specRotationOptionsJson","toJsonString","APLRotation","fromJsonString","FIRE_ROTATION_PRESET_DEFAULT","FROSTFIRE_ROTATION_PRESET_DEFAULT","FROST_ROTATION_PRESET_DEFAULT","ARCANE_PRERAID_PRESET","tooltip","Tooltips.BASIC_BIS_DISCLAIMER","enableWhen","player","getTalentTree","gear","EquipmentSpec","FIRE_PRERAID_PRESET","ARCANE_P1_PRESET","FIRE_P1_PRESET","FROST_P1_PRESET","ARCANE_P2_PRESET","FIRE_P2_PRESET","FROST_P2_PRESET","FFB_P2_PRESET","getTalents","icyVeins","ARCANE_P3_PRESET_HORDE","getFaction","Faction","Horde","ARCANE_P3_PRESET_ALLIANCE","Alliance","FROST_P3_PRESET_HORDE","FROST_P3_PRESET_ALLIANCE","FIRE_P3_PRESET_HORDE","FIRE_P3_PRESET_ALLIANCE","FFB_P3_PRESET_HORDE","FFB_P3_PRESET_ALLIANCE","Armor","InputHelpers.makeSpecOptionsEnumIconInput","fieldName","values","value","NoArmor","actionId","ActionId","fromSpellId","MageArmor","EvocationTicks","InputHelpers.makeSpecOptionsNumberInput","label","labelTooltip","FocusMagicUptime","extraCssClasses","ReactionTime","MageRotationConfig","inputs","InputHelpers.makeRotationEnumInput","setValue","eventID","newValue","newRotation","getRotation","TypedEvent","freezeAllAndDo","setTalentsString","Presets.ArcaneTalents","setGlyphs","Presets.FireTalents","Presets.FrostTalents","setRotation","AoeRotationSpells","ArcaneExplosion","Flamestrike","Blizzard","showWhen","Aoe","Scorch","InputHelpers.makeRotationNumberInput","getSpecOptions","changeEmitter","onAny","rotationChangeEmitter","specOptionsChangeEmitter","InputHelpers.makeRotationBooleanInput","percent","talentsChangeEmitter","summonWaterElemental","arcaneBarrage","improvedScorch","MageSimUI","IndividualSimUI","constructor","parentElem","super","cssClass","cssScheme","knownIssues","epStats","Stat","StatIntellect","StatSpirit","StatSpellPower","StatSpellHit","StatSpellCrit","StatSpellHaste","StatMP5","epReferenceStat","displayStats","StatHealth","StatMana","StatStamina","modifyDisplayStats","stats","Stats","addStat","arcaneFocus","Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE","talents","defaults","Presets.ARCANE_P1_PRESET","epWeights","fromMap","consumes","Presets.DefaultArcaneConsumes","Presets.DefaultArcaneRotation","specOptions","Presets.DefaultArcaneOptions","other","Presets.OtherDefaults","raidBuffs","RaidBuffs","giftOfTheWild","TristateEffect","TristateEffectImproved","bloodlust","manaSpringTotem","wrathOfAirTotem","divineSpirit","swiftRetribution","sanctifiedRetribution","demonicPact","moonkinAura","arcaneBrilliance","partyBuffs","PartyBuffs","manaTideTotems","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfWisdom","innervates","vampiricTouch","debuffs","Debuffs","judgementOfWisdom","misery","curseOfElements","shadowMastery","heartOfTheCrusader","playerIconInputs","MageInputs.Armor","rotationInputs","MageInputs.MageRotationConfig","includeBuffDebuffInputs","excludeBuffDebuffInputs","otherInputs","MageInputs.EvocationTicks","MageInputs.FocusMagicUptime","MageInputs.ReactionTime","OtherInputs.DistanceFromTarget","OtherInputs.TankAssignment","encounterPicker","showExecuteProportion","presets","rotations","Presets.ARCANE_ROTATION_PRESET_DEFAULT","Presets.FIRE_ROTATION_PRESET_DEFAULT","Presets.FROSTFIRE_ROTATION_PRESET_DEFAULT","Presets.FROST_ROTATION_PRESET_DEFAULT","Presets.FrostfireTalents","Presets.Phase3FireTalents","Presets.ARCANE_PRERAID_PRESET","Presets.FIRE_PRERAID_PRESET","Presets.FIRE_P1_PRESET","Presets.FROST_P1_PRESET","Presets.ARCANE_P2_PRESET","Presets.FIRE_P2_PRESET","Presets.FROST_P2_PRESET","Presets.FFB_P2_PRESET","Presets.ARCANE_P3_PRESET_ALLIANCE","Presets.ARCANE_P3_PRESET_HORDE","Presets.FROST_P3_PRESET_ALLIANCE","Presets.FROST_P3_PRESET_HORDE","Presets.FIRE_P3_PRESET_ALLIANCE","Presets.FIRE_P3_PRESET_HORDE","Presets.FFB_P3_PRESET_ALLIANCE","Presets.FFB_P3_PRESET_HORDE"],"mappings":"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"}